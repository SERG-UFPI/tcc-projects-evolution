{"project":"operations/puppet","branch":"production","id":"I99a07b8e55560db3ddc00e0c8c30c62b65136556","number":416443,"subject":"wdqs: wrong escaping of quotes in prometheus check","owner":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"},"url":"https://gerrit.wikimedia.org/r/416443","commitMessage":"wdqs: wrong escaping of quotes in prometheus check\n\nChange-Id: I99a07b8e55560db3ddc00e0c8c30c62b65136556\n","createdOn":1520260711,"lastUpdated":1520261099,"open":false,"status":"MERGED","comments":[{"timestamp":1520260711,"reviewer":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"},"message":"Uploaded patch set 1."},{"timestamp":1520260722,"reviewer":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"},"message":"Patch Set 2: Patch Set 1 was rebased"},{"timestamp":1520260754,"reviewer":{"name":"jenkins-bot","email":"","username":"jenkins-bot"},"message":"Patch Set 2: Verified+2\n\nMain test build succeeded.\n\n- operations-puppet-tests-docker https://integration.wikimedia.org/ci/job/operations-puppet-tests-docker/16401/console : SUCCESS in 14s"},{"timestamp":1520261098,"reviewer":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"},"message":"Patch Set 2: Code-Review+2"},{"timestamp":1520261099,"reviewer":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"},"message":"Change has been successfully merged by Gehel"}],"patchSets":[{"number":1,"revision":"fe68519e07022a2f061aa7aab675a0fdea91397d","parents":["b81ec8dcfae8e7018978f47d529791a901f65eff"],"ref":"refs/changes/43/416443/1","uploader":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"},"createdOn":1520260711,"author":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"},"isDraft":false,"kind":"REWORK","sizeInsertions":1,"sizeDeletions":-1},{"number":2,"revision":"c33c5dbdf052670704d023e5681270ac06d679fc","parents":["53b2d39e296acc1e64447f4d450322808cb3a939"],"ref":"refs/changes/43/416443/2","uploader":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"},"createdOn":1520260722,"author":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"},"isDraft":false,"kind":"TRIVIAL_REBASE","approvals":[{"type":"Verified","description":"Verified","value":"2","grantedOn":1520260754,"by":{"name":"jenkins-bot","email":"","username":"jenkins-bot"}},{"type":"Code-Review","description":"Code-Review","value":"2","grantedOn":1520261098,"by":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"}},{"type":"SUBM","value":"1","grantedOn":1520261099,"by":{"name":"Gehel","email":"guillaume.lederrey@example.com","username":"gehel"}}],"sizeInsertions":1,"sizeDeletions":-1}]}
{"project":"mediawiki/extensions/Wikibase","branch":"wmf/1.31.0-wmf.23","topic":"incident-response-wmf/1.31.0-wmf.23","id":"I9ad743250f37c3be369888b1b9be80d8d332f62f","number":415319,"subject":"Fix empty condition list in metadata lookup","owner":{"name":"Lucas Werkmeister (WMDE)","email":"lucas.werkmeister@example.com","username":"lucaswerkmeister-wmde"},"url":"https://gerrit.wikimedia.org/r/415319","commitMessage":"Fix empty condition list in metadata lookup\n\nWikiPageEntityMetaDataLookup::getWhere() has a special safeguard to make\nsure that we don’t accidentally run queries without any WHERE clause.\nHowever, WHERE 0 is not valid SQL syntax (though MySQL and SQLite accept\nit), and the MediaWiki Database class interprets a condition of \"0\" like\nan empty condition (no WHERE clause) due to T188314. Instead, use the\ncondition \"0\u003d1\", which is valid SQL and guaranteed to be false.\n\nIn the test, we trigger this case with an entity ID with no known\nassociated namespace; without this fix, such a request results in actual\ndatabase data for this entity, even though the namespace wasn’t known.\n\nBug: T188313\nChange-Id: I9ad743250f37c3be369888b1b9be80d8d332f62f\n(cherry picked from commit 0bc2b182c1287be4d32ef4e6468ea561fe335359)\n","createdOn":1519834597,"lastUpdated":1520260948,"open":true,"status":"NEW","comments":[{"timestamp":1519834597,"reviewer":{"name":"Lucas Werkmeister (WMDE)","email":"lucas.werkmeister@example.com","username":"lucaswerkmeister-wmde"},"message":"Patch Set 1: Cherry Picked from branch master."},{"timestamp":1519835359,"reviewer":{"name":"jenkins-bot","email":"","username":"jenkins-bot"},"message":"Patch Set 1: Verified-1\n\nMain test build failed.\n\n- mwgate-npm-node-6-docker https://integration.wikimedia.org/ci/job/mwgate-npm-node-6-docker/24317/console : SUCCESS in 44s\n- mediawiki-extensions-hhvm-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-hhvm-jessie/37218/console : SUCCESS in 12m 27s\n- mediawiki-extensions-qunit-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-qunit-jessie/54791/console : SUCCESS in 3m 09s\n- mwext-php70-phan-docker https://integration.wikimedia.org/ci/job/mwext-php70-phan-docker/3585/console : FAILURE in 2m 56s\n- mwext-mw-selenium-composer-jessie https://integration.wikimedia.org/ci/job/mwext-mw-selenium-composer-jessie/8760/console : SUCCESS in 7m 43s\n- mwext-Wikibase-repo-tests-sqlite-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-repo-tests-sqlite-hhvm-jessie/5304/console : SUCCESS in 4m 00s\n- mwext-Wikibase-client-tests-mysql-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-client-tests-mysql-hhvm-jessie/5285/console : SUCCESS in 3m 00s"},{"timestamp":1519835712,"reviewer":{"name":"Lucas Werkmeister (WMDE)","email":"lucas.werkmeister@example.com","username":"lucaswerkmeister-wmde"},"message":"Patch Set 1:\n\nrecheck"},{"timestamp":1519839401,"reviewer":{"name":"jenkins-bot","email":"","username":"jenkins-bot"},"message":"Patch Set 1:\n\nMain test build failed.\n\n- mwgate-npm-node-6-docker https://integration.wikimedia.org/ci/job/mwgate-npm-node-6-docker/24358/console : SUCCESS in 1m 08s\n- mediawiki-extensions-hhvm-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-hhvm-jessie/37226/console : SUCCESS in 13m 36s\n- mediawiki-extensions-qunit-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-qunit-jessie/54799/console : SUCCESS in 3m 19s\n- mwext-php70-phan-docker https://integration.wikimedia.org/ci/job/mwext-php70-phan-docker/3589/console : FAILURE in 4m 49s\n- mwext-mw-selenium-composer-jessie https://integration.wikimedia.org/ci/job/mwext-mw-selenium-composer-jessie/8764/console : SUCCESS in 14m 40s\n- mwext-Wikibase-repo-tests-sqlite-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-repo-tests-sqlite-hhvm-jessie/5308/console : SUCCESS in 6m 00s\n- mwext-Wikibase-client-tests-mysql-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-client-tests-mysql-hhvm-jessie/5289/console : SUCCESS in 4m 29s"},{"timestamp":1519841884,"reviewer":{"name":"Thiemo Kreuz (WMDE)","email":"thiemo.kreuz@example.com","username":"thiemowmde"},"message":"Patch Set 1: Code-Review+1\n\nThe CI error is unrelated, and does not make sense as …/extensions/Wikibase/tests/phan/stubs/pageimages.php is properly set up."},{"timestamp":1519899816,"reviewer":{"name":"Lucas Werkmeister (WMDE)","email":"lucas.werkmeister@example.com","username":"lucaswerkmeister-wmde"},"message":"Patch Set 1:\n\nrecheck"},{"timestamp":1519901019,"reviewer":{"name":"jenkins-bot","email":"","username":"jenkins-bot"},"message":"Patch Set 1:\n\nMain test build failed.\n\n- mwgate-npm-node-6-docker https://integration.wikimedia.org/ci/job/mwgate-npm-node-6-docker/24632/console : SUCCESS in 50s\n- mediawiki-extensions-hhvm-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-hhvm-jessie/37343/console : FAILURE in 15m 42s\n- mediawiki-extensions-qunit-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-qunit-jessie/54917/console : SUCCESS in 6m 59s\n- mwext-php70-phan-docker https://integration.wikimedia.org/ci/job/mwext-php70-phan-docker/3620/console : FAILURE in 4m 25s\n- mwext-mw-selenium-composer-jessie https://integration.wikimedia.org/ci/job/mwext-mw-selenium-composer-jessie/8779/console : FAILURE in 12m 47s\n- mwext-Wikibase-repo-tests-sqlite-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-repo-tests-sqlite-hhvm-jessie/5321/console : SUCCESS in 4m 14s\n- mwext-Wikibase-client-tests-mysql-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-client-tests-mysql-hhvm-jessie/5303/console : SUCCESS in 2m 59s"},{"timestamp":1519904657,"reviewer":{"name":"Lucas Werkmeister (WMDE)","email":"lucas.werkmeister@example.com","username":"lucaswerkmeister-wmde"},"message":"Patch Set 1:\n\ngreat, now *more* tests are failing, including from other extensions…"},{"timestamp":1519911878,"reviewer":{"name":"Lucas Werkmeister (WMDE)","email":"lucas.werkmeister@example.com","username":"lucaswerkmeister-wmde"},"message":"Patch Set 1:\n\nrecheck"},{"timestamp":1519912643,"reviewer":{"name":"jenkins-bot","email":"","username":"jenkins-bot"},"message":"Patch Set 1:\n\nMain test build failed.\n\n- mwgate-npm-node-6-docker https://integration.wikimedia.org/ci/job/mwgate-npm-node-6-docker/24677/console : SUCCESS in 43s\n- mediawiki-extensions-hhvm-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-hhvm-jessie/37355/console : SUCCESS in 12m 32s\n- mediawiki-extensions-qunit-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-qunit-jessie/54929/console : SUCCESS in 3m 13s\n- mwext-php70-phan-docker https://integration.wikimedia.org/ci/job/mwext-php70-phan-docker/3623/console : FAILURE in 3m 29s\n- mwext-mw-selenium-composer-jessie https://integration.wikimedia.org/ci/job/mwext-mw-selenium-composer-jessie/8781/console : SUCCESS in 10m 48s\n- mwext-Wikibase-repo-tests-sqlite-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-repo-tests-sqlite-hhvm-jessie/5323/console : SUCCESS in 3m 24s\n- mwext-Wikibase-client-tests-mysql-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-client-tests-mysql-hhvm-jessie/5305/console : SUCCESS in 2m 35s"},{"timestamp":1519913588,"reviewer":{"name":"Zfilipin","email":"zfilipin@example.com","username":"zfilipin"},"message":"Patch Set 1:\n\nrecheck"},{"timestamp":1519914625,"reviewer":{"name":"jenkins-bot","email":"","username":"jenkins-bot"},"message":"Patch Set 1:\n\nMain test build failed.\n\n- mwgate-npm-node-6-docker https://integration.wikimedia.org/ci/job/mwgate-npm-node-6-docker/24686/console : SUCCESS in 44s\n- mediawiki-extensions-hhvm-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-hhvm-jessie/37357/console : SUCCESS in 17m 03s\n- mediawiki-extensions-qunit-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-qunit-jessie/54931/console : SUCCESS in 5m 08s\n- mwext-php70-phan-docker https://integration.wikimedia.org/ci/job/mwext-php70-phan-docker/3624/console : FAILURE in 3m 12s\n- mwext-mw-selenium-composer-jessie https://integration.wikimedia.org/ci/job/mwext-mw-selenium-composer-jessie/8782/console : SUCCESS in 11m 29s\n- mwext-Wikibase-repo-tests-sqlite-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-repo-tests-sqlite-hhvm-jessie/5324/console : SUCCESS in 3m 36s\n- mwext-Wikibase-client-tests-mysql-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-client-tests-mysql-hhvm-jessie/5306/console : SUCCESS in 4m 02s"},{"timestamp":1519915295,"reviewer":{"name":"Hashar","email":"hashar@example.com","username":"hashar"},"message":"Removed Verified-1 by jenkins-bot \u003c\u003e\n"},{"timestamp":1519915305,"reviewer":{"name":"Hashar","email":"hashar@example.com","username":"hashar"},"message":"Patch Set 1: Verified+2\n\nLets force merge this patch."},{"timestamp":1519915411,"reviewer":{"name":"Addshore","email":"addshorewiki@example.com","username":"addshore"},"message":"Patch Set 1: Code-Review+1"},{"timestamp":1519915429,"reviewer":{"name":"Addshore","email":"addshorewiki@example.com","username":"addshore"},"message":"Patch Set 1: Verified+1\n\nphan failure is very unrelated :)"},{"timestamp":1519915551,"reviewer":{"name":"Zfilipin","email":"zfilipin@example.com","username":"zfilipin"},"message":"Patch Set 1: Code-Review+2\n\nSWAT\n\naddshore and hashar said in #wikimedia-operations that the job failure can be ignored :P"},{"timestamp":1519915556,"reviewer":{"name":"jenkins-bot","email":"","username":"jenkins-bot"},"message":"Patch Set 1:\n\nStarting gate-and-submit-swat jobs.\nhttps://integration.wikimedia.org/zuul/"},{"timestamp":1519916431,"reviewer":{"name":"jenkins-bot","email":"","username":"jenkins-bot"},"message":"Patch Set 1: Verified-1\n\nGate pipeline build failed.\n\n- mediawiki-extensions-hhvm-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-hhvm-jessie/37364/console : SUCCESS in 11m 02s\n- mediawiki-extensions-php55-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-php55-jessie/4378/console : SUCCESS in 8m 10s\n- mediawiki-extensions-qunit-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-qunit-jessie/54938/console : SUCCESS in 4m 57s\n- mwext-php70-phan-docker https://integration.wikimedia.org/ci/job/mwext-php70-phan-docker/3627/console : FAILURE in 3m 30s\n- mwext-mw-selenium-composer-jessie https://integration.wikimedia.org/ci/job/mwext-mw-selenium-composer-jessie/8785/console : SUCCESS in 10m 51s\n- mwext-Wikibase-repo-tests-sqlite-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-repo-tests-sqlite-hhvm-jessie/5327/console : SUCCESS in 3m 18s\n- mwext-Wikibase-client-tests-mysql-php55-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-client-tests-mysql-php55-jessie/522/console : SUCCESS in 3m 22s\n- mwext-Wikibase-client-tests-mysql-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-client-tests-mysql-hhvm-jessie/5309/console : SUCCESS in 3m 43s"},{"timestamp":1519917259,"reviewer":{"name":"Zfilipin","email":"zfilipin@example.com","username":"zfilipin"},"message":"Patch Set 1: -Code-Review\n\nWe ran out of time for SWAT today. We will try to deploy it on Monday, and fix the CI problem until then."},{"timestamp":1520014767,"reviewer":{"name":"Lucas Werkmeister (WMDE)","email":"lucas.werkmeister@example.com","username":"lucaswerkmeister-wmde"},"message":"Patch Set 1:\n\nI have no idea what else to do about this CI failure… right now, all I can think of is to try another recheck :/"},{"timestamp":1520014781,"reviewer":{"name":"Lucas Werkmeister (WMDE)","email":"lucas.werkmeister@example.com","username":"lucaswerkmeister-wmde"},"message":"Patch Set 1:\n\nrecheck"},{"timestamp":1520015475,"reviewer":{"name":"jenkins-bot","email":"","username":"jenkins-bot"},"message":"Patch Set 1:\n\nMain test build failed.\n\n- mwgate-npm-node-6-docker https://integration.wikimedia.org/ci/job/mwgate-npm-node-6-docker/25139/console : SUCCESS in 42s\n- mediawiki-extensions-hhvm-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-hhvm-jessie/37624/console : SUCCESS in 11m 21s\n- mediawiki-extensions-qunit-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-qunit-jessie/55194/console : SUCCESS in 3m 26s\n- mwext-testextension-php70-jessie-non-voting https://integration.wikimedia.org/ci/job/mwext-testextension-php70-jessie-non-voting/1159/console : FAILURE in 5m 54s (non-voting)\n- mwext-php70-phan-docker https://integration.wikimedia.org/ci/job/mwext-php70-phan-docker/3669/console : FAILURE in 3m 26s\n- mwext-mw-selenium-composer-jessie https://integration.wikimedia.org/ci/job/mwext-mw-selenium-composer-jessie/8812/console : FAILURE in 7m 40s\n- mwext-Wikibase-repo-tests-sqlite-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-repo-tests-sqlite-hhvm-jessie/5351/console : SUCCESS in 3m 55s\n- mwext-Wikibase-client-tests-mysql-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-client-tests-mysql-hhvm-jessie/5333/console : SUCCESS in 2m 59s"},{"timestamp":1520246994,"reviewer":{"name":"Zfilipin","email":"zfilipin@example.com","username":"zfilipin"},"message":"Patch Set 1:\n\nrecheck"},{"timestamp":1520247754,"reviewer":{"name":"jenkins-bot","email":"","username":"jenkins-bot"},"message":"Patch Set 1:\n\nMain test build failed.\n\n- mwgate-npm-node-6-docker https://integration.wikimedia.org/ci/job/mwgate-npm-node-6-docker/25766/console : SUCCESS in 52s\n- mediawiki-extensions-hhvm-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-hhvm-jessie/37782/console : SUCCESS in 12m 25s\n- mediawiki-extensions-qunit-jessie https://integration.wikimedia.org/ci/job/mediawiki-extensions-qunit-jessie/55352/console : SUCCESS in 3m 42s\n- mwext-testextension-php70-jessie-non-voting https://integration.wikimedia.org/ci/job/mwext-testextension-php70-jessie-non-voting/1515/console : FAILURE in 5m 42s (non-voting)\n- mwext-php70-phan-docker https://integration.wikimedia.org/ci/job/mwext-php70-phan-docker/3692/console : FAILURE in 4m 11s\n- mwext-mw-selenium-composer-jessie https://integration.wikimedia.org/ci/job/mwext-mw-selenium-composer-jessie/8828/console : SUCCESS in 7m 36s\n- mwext-Wikibase-repo-tests-sqlite-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-repo-tests-sqlite-hhvm-jessie/5360/console : SUCCESS in 3m 56s\n- mwext-Wikibase-client-tests-mysql-hhvm-jessie https://integration.wikimedia.org/ci/job/mwext-Wikibase-client-tests-mysql-hhvm-jessie/5342/console : SUCCESS in 3m 01s"},{"timestamp":1520260948,"reviewer":{"name":"Zfilipin","email":"zfilipin@example.com","username":"zfilipin"},"message":"Removed reviewer Zfilipin."}],"trackingIds":[{"system":"Bugzilla","id":"188313"},{"system":"Phab","id":"T188313"}],"patchSets":[{"number":1,"revision":"f1121171bd3ad170723638f90d95ce2030d1b2e0","parents":["cc9ee9d4211b38d69fa9e7f86f9ef04fafd4855c"],"ref":"refs/changes/19/415319/1","uploader":{"name":"Lucas Werkmeister (WMDE)","email":"lucas.werkmeister@example.com","username":"lucaswerkmeister-wmde"},"createdOn":1519834597,"author":{"name":"Lucas Werkmeister (WMDE)","email":"lucas.werkmeister@example.com","username":"lucaswerkmeister-wmde"},"isDraft":false,"kind":"REWORK","approvals":[{"type":"Verified","description":"Verified","value":"2","grantedOn":1519915305,"by":{"name":"Hashar","email":"hashar@example.com","username":"hashar"}},{"type":"Verified","description":"Verified","value":"-1","grantedOn":1519916431,"by":{"name":"jenkins-bot","email":"","username":"jenkins-bot"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519915411,"by":{"name":"Addshore","email":"addshorewiki@example.com","username":"addshore"}},{"type":"Verified","description":"Verified","value":"1","grantedOn":1519915429,"by":{"name":"Addshore","email":"addshorewiki@example.com","username":"addshore"}},{"type":"Code-Review","description":"Code-Review","value":"1","grantedOn":1519841884,"by":{"name":"Thiemo Kreuz (WMDE)","email":"thiemo.kreuz@example.com","username":"thiemowmde"}}],"sizeInsertions":16,"sizeDeletions":-1}]}
{"type":"stats","rowCount":2,"runTimeMilliseconds":89,"moreChanges":true}
